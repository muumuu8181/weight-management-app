# コード重複と不要コード残存問題

**作成日**: 2025年09月07日  
**問題レベル**: 中～高（コードベースの保守性に影響）

## 問題概要

関数の修正時に、新しい関数を作成して古い関数を残してしまうケースが頻発している。これによりコードベースにゴミが蓄積し、保守性が著しく低下する。

## 具体的な問題パターン

### よくある悪い例
```javascript
// 元の関数（問題あり）
function calculateWeight() {
    // バグのある実装
}

// AIが「修正」として新しい関数を追加
function calculateWeightFixed() {
    // 修正された実装
}

// 結果：calculateWeight() がゴミとして残る
```

### 問題点
1. **どちらを使うべきか不明** - 新規開発者が混乱
2. **コードベースの肥大化** - 不要なコードが蓄積
3. **バグの温床** - 古い関数を誤って使用するリスク
4. **メンテナンスコスト増大** - どれが生きているコードか判別困難

## 実例

### ~~睡眠タブのxxx2.*ファイル群~~ **【解決済み】**
- ~~`tabs/tab2-sleep/xxx2.js`~~
- ~~`tabs/tab2-sleep/xxx2.html`~~
- ~~`tabs/tab2-sleep/xxx2.css`~~
→ ~~全く別の機能が実装されており、睡眠機能と無関係なゴミファイル~~
**✅ 解決済み**: これらのファイルは既に削除されています（2025年9月時点で確認済み）

### 開発ツールの重複
- display-checker系が5個も存在
- どれが最新か、どれを使うべきか不明

## 対策

1. **既存関数の修正を優先** - 新規作成より既存修正
2. **置き換え時は必ず削除** - 古い実装は完全に除去
3. **命名規則で回避しない** - `functionFixed`や`functionNew`は禁止
4. **包括的なゴミ除去** - ファイル、フォルダ、コードすべて対象
5. **積極的な報告義務** - ゴミを発見したら即座にユーザーに報告
6. **定期的な見回り** - 作業に余裕がある時はフォルダ状況を確認

## 影響

このままだと：
- 新規開発者が正しい関数を見つけられない
- バグ修正時に間違った箇所を修正する
- プロジェクトサイズが無駄に肥大化
- 技術的負債が雪だるま式に増加